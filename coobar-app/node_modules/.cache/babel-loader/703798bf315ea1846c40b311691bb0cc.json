{"remainingRequest":"c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\node_modules\\thread-loader\\dist\\cjs.js!c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\src\\components\\product\\products.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\src\\components\\product\\products.vue","mtime":1549967216677},{"path":"c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\Users\\web\\Desktop\\coobar1\\coobar-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _parseInt from \"c:\\\\Users\\\\web\\\\Desktop\\\\coobar1\\\\coobar-app\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-int\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      orderProducts: [],\n      kwords: \"\",\n      products: [],\n      pageSize: 20,\n      //页大小\n      pageIndex: 1,\n      //页码\n      pageCount: 1,\n      //页数 默认为1\n      noHidden: true,\n      hidden: false,\n      topStyle: \"l-item1\",\n      pmStyle: \"\"\n    };\n  },\n  created: function created() {\n    //  获取搜索框传入要搜索的关键字\n    this.kwords = this.$route.params.kwords;\n    this.getProducts();\n  },\n  methods: {\n    //商品加入购物车\n    addCart: function addCart(e) {\n      var _this = this;\n\n      var value = _parseInt(e.target.dataset.value);\n\n      var pid = this.products[value].id;\n      var count = this.products[value].count;\n      this.axios.get(\"http://localhost:3000/addCart\", {\n        params: {\n          pid: pid,\n          count: count\n        }\n      }).then(function (res) {\n        if (res.data.code == -1) {\n          _this.$router.push(\"/login\");\n        }\n      });\n    },\n    //  上一页\n    getPrev: function getPrev() {\n      if (this.pageIndex > 1) {\n        this.pageIndex += -1;\n        this.getProducts();\n      }\n    },\n    //  下一页\n    getNext: function getNext() {\n      if (this.pageIndex < this.pageCount) {\n        this.pageIndex += 1;\n        this.getProducts();\n      }\n    },\n    //  跳转页码\n    getPage: function getPage(e) {\n      this.pageIndex = _parseInt(e.target.dataset.page);\n      this.getProducts();\n    },\n    //  添加商品数量事件\n    getAdd: function getAdd(e) {\n      var index = _parseInt(e.target.dataset.index);\n\n      var count = _parseInt(e.target.dataset.count);\n\n      this.products[index].count += count;\n\n      if (this.products[index].count < 1) {\n        this.products[index].count = 1;\n      }\n\n      ;\n\n      if (this.products[index].count > 99) {\n        this.products[index].count = 99;\n      }\n    },\n    //  获取产品\n    getProducts: function getProducts() {\n      var _this2 = this;\n\n      var pno = this.pageIndex;\n      var pageSize = this.pageSize;\n      var kwords = this.kwords;\n      this.axios.get(\"http://localhost:3000/products\", {\n        params: {\n          kwords: kwords,\n          pno: pno,\n          pageSize: pageSize\n        }\n      }).then(function (res) {\n        _this2.pageCount = res.data.pageCount;\n        _this2.products = res.data.data;\n      });\n    },\n    // 展开侧栏方法\n    spread: function spread() {\n      this.noHidden = false;\n      this.hidden = true;\n      this.topStyle = \"l-item2\";\n      this.pmStyle = \"pm-style\";\n    },\n    // 收起侧栏\n    shrink: function shrink() {\n      this.noHidden = true;\n      this.hidden = false;\n      this.topStyle = \"l-item1\";\n      this.pmStyle = \"\";\n    }\n  },\n  watch: {\n    \"$route\": {\n      handler: function handler(to) {\n        this.kwords = to.params.kwords;\n        this.getProducts();\n      },\n      immediate: true\n    }\n  }\n};",{"version":3,"sources":["products.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"app-products\">\r\n        <div id=\"products\">\r\n            <!-- 产品列表头部-->\r\n            <div class=\"products_top\">\r\n                <p>\r\n                    <span>全部结果--></span>\r\n                    <span>食品</span>\r\n                </p>\r\n                <div class=\"product_classify\">\r\n                    <div class=\"pc_item1 pc_item\">\r\n                        <div>\r\n                            <span>产地</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>北京</span>\r\n                            <span>上海</span>\r\n                            <span>重庆</span>\r\n                            <span>天津</span>\r\n                            <span>湖北</span>\r\n                            <span>湖南</span>\r\n                            <span>河北</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>更多</span>\r\n                            <span>多选</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"pc_item2 pc_item\">\r\n                        <div>\r\n                            <span>种类</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>大豆</span>\r\n                            <span>玉米</span>\r\n                            <span>花生</span>\r\n                            <span>土豆</span>\r\n                            <span>西红柿</span>\r\n                            <span>大米</span>\r\n                            <span>黄瓜</span>\r\n                            <span>花菜</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>更多</span>\r\n                            <span>多选</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"pc_item3 pc_item\">\r\n                        <div>\r\n                            <span>品牌</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>蒙羊</span>\r\n                            <span>双汇</span>\r\n                            <span>中粮</span>\r\n                            <span>五常大米</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>更多</span>\r\n                            <span>多选</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- 产品列表主体-->\r\n            <div class=\"products_main\">\t\r\n\t\t\t\t    <div  class=\"products_main_shrink\" v-show=\"hidden\">\r\n\t\t\t\t       <p @click=\"shrink\" class=\"pm-item pm-item1\"><收起侧栏</p>\r\n\t\t\t\t\t\t\t <p class=\"pm-item pm-item2\">精品蔬菜热销榜</p>\r\n\t\t\t\t\t\t\t <ul v-show=\"orderProducts.length>0\">\r\n\t\t\t\t\t\t\t      <li v-for=\"(item,value) of orderProducts\" :key=\"value\">\r\n\r\n                                  </li>\r\n\t\t\t\t\t\t\t </ul>\r\n\t\t\t\t    </div>\r\n\t\t\t\t\t\t<div class=\"products_middle\" :class=\"pmStyle\">\r\n\t\t\t\t\t\t\t\t<div  @click=\"spread\" v-show=\"noHidden\">展开侧栏></div>\r\n\t\t\t\t\t\t\t\t<div class=\"products_limitCondition\" :class=\"topStyle\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"limitCondition_item limitCondition_item1\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li class=\"active\">综合</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>销量</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>评论数</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>好评度</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>新鲜度</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>价格</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li><input type=\"text\" placeholder=\"最低价\"/></li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>-</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li><input type=\"text\" placeholder=\"最高价\"/></li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li><button>确定</button></li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>共计100+件商品</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>1</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>/</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>5</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span><</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"limitCondition_item limitCondition_item2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\"/>有货\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\"/>货到付款\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\"/>包邮\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\"/>新品上市\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\"/>优惠活动\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"在结果中搜索\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"javascript:;\">搜索</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"product_lists\">\r\n\t\t\t\t\t\t\t\t\t\t <ul class=\"product_list\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t <li v-for=\"(product,value) of products\"  :key=\"value\">\r\n                                                         <router-link :to=\"`${product.href}${product.id}`\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <img :src=\"`http://localhost:3000/${product.img_src}`\" alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t </router-link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t <p class=\"price\">\r\n                                                             <span>折扣价:￥{{product.new_price}}</span>\r\n                                                             <span>专柜价:￥{{product.old_price}}</span>\r\n                                                         </p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t <p class=\"details\">{{product.title}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t <div class=\"buyCount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <span>购买数量:</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <button @click=\"getAdd\" data-count=\"-1\" :data-index=\"value\">-</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <input type=\"text\" :value=\"product.count\" readonly/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <button @click=\"getAdd\" data-count=\"1\" :data-index=\"value\">+</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t <div class=\"buy\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <a href=\"javascript:;\">立即购买</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <a href=\"javascript:;\" @click=\"addCart\" :data-value=\"value\">加入购物车</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t </li>\t\r\n\t\t\t\t\t\t\t\t\t\t </ul>\r\n                                         <div class=\"page_list\">\r\n                                             <button class=\"list1 list\" type=\"button\" @click=\"getPrev\" :disabled=\"1==pageIndex\">上一页</button>\r\n                                             <button v-for=\"(item,value) of pageCount\" class=\"list2 list\" type=\"button\" \r\n                                             :class=\"{active:item==pageIndex}\" :key=\"value\" @click=\"getPage\" :data-page=\"item\">{{item}}</button>\r\n                                             <button class=\"list3 list\" type=\"button\" @click=\"getNext\" :disabled=\"pageCount==pageIndex\">下一页</button>\r\n                                         </div>\r\n                                         <!-- <el-pagination\r\n                                            background\r\n                                            layout=\"prev, pager, next\"\r\n                                            :page-size=\"pageSizing\"\r\n                                            :page-count=\"pageCount\">\r\n                                        </el-pagination> -->\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>     \r\n\t\t\t\t</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n     data(){\r\n         return{\r\n             orderProducts:[],\r\n             kwords:\"\",\r\n             products:[],\r\n             pageSize:20,  //页大小\r\n             pageIndex:1,  //页码\r\n             pageCount:1,  //页数 默认为1\r\n             noHidden:true,\r\n             hidden:false,\r\n             topStyle:\"l-item1\",\r\n             pmStyle:\"\",\r\n         }\r\n     },\r\n     created(){\r\n        //  获取搜索框传入要搜索的关键字\r\n        this.kwords=this.$route.params.kwords;\r\n        this.getProducts();\r\n     },\r\n     methods:{\r\n          //商品加入购物车\r\n             addCart(e){\r\n                 var value=parseInt(e.target.dataset.value);\r\n                 var pid=this. products[value].id;\r\n                 var count=this. products[value].count;\r\n                 this.axios.get(\"http://localhost:3000/addCart\",{\r\n                     params:{pid,count}\r\n                 }).then((res)=>{\r\n                     if(res.data.code==-1){\r\n                         this.$router.push(\"/login\")\r\n                     }\r\n                 })\r\n\r\n             },\r\n        //  上一页\r\n        getPrev(){\r\n            if(this.pageIndex>1){\r\n                this.pageIndex+=-1;\r\n                this.getProducts();\r\n            }\r\n        },\r\n        //  下一页\r\n        getNext(){\r\n            if(this.pageIndex<this.pageCount){\r\n                this.pageIndex+=1;\r\n                this.getProducts();\r\n            }\r\n        },\r\n        //  跳转页码\r\n        getPage(e){\r\n              this.pageIndex=parseInt(e.target.dataset.page);\r\n              this.getProducts();\r\n        },\r\n        //  添加商品数量事件\r\n            getAdd(e){\r\n                var index=parseInt(e.target.dataset.index);\r\n                var count=parseInt(e.target.dataset.count);\r\n                this.products[index].count+=count;\r\n                if(this.products[index].count<1){\r\n                    this.products[index].count=1\r\n                };\r\n                if(this.products[index].count>99){\r\n                    this.products[index].count=99\r\n                }\r\n            },\r\n        //  获取产品\r\n        getProducts(){\r\n              var pno=this.pageIndex;\r\n              var pageSize=this.pageSize;\r\n               var kwords=this.kwords;\r\n               this.axios.get(\"http://localhost:3000/products\",{\r\n                   params:{kwords,pno,pageSize}\r\n               }).then((res)=>{\r\n                   this.pageCount=res.data.pageCount;\r\n                   this.products=res.data.data;\r\n               })\r\n        },\r\n        // 展开侧栏方法\r\n        spread(){\r\n            this.noHidden=false;\r\n            this.hidden=true;\r\n            this.topStyle=\"l-item2\";\r\n            this.pmStyle=\"pm-style\";\r\n        },\r\n        // 收起侧栏\r\n        shrink(){\r\n            this.noHidden=true;\r\n            this.hidden=false;\r\n            this.topStyle=\"l-item1\";\r\n            this.pmStyle=\"\";\r\n        },\r\n     },\r\n     watch:{\r\n           \"$route\":{\r\n               handler(to){\r\n                   this.kwords=to.params.kwords;\r\n                   this.getProducts();\r\n               },\r\n               immediate:true,\r\n           }\r\n       },\r\n}\r\n</script>\r\n<style scoped>\r\n      #products{\r\n    width:1200px;\r\n    margin:10px auto;\r\n}\r\n   /*产品顶部样式*/\r\n        /*产品分类的样式*/\r\n        #products>div.products_top>div.product_classify>div.pc_item{\r\n            display: flex;\r\n            border-bottom: 1px dashed #ccc;\r\n        }\r\n        div.pc_item1{\r\n            border-top:1px solid #ccc;\r\n        }\r\n        div.pc_item>div{\r\n            height:50px;\r\n            line-height:50px;\r\n        }\r\n        div.pc_item>div>span{\r\n            display: inline-block;\r\n            text-align: center;\r\n        }\r\n        div.pc_item>div:first-child{\r\n            width:120px;\r\n            text-align: center;\r\n            background: #00c65d;\r\n            font-size: 21px;\r\n        }\r\n        div.pc_item>div:nth-child(2){\r\n            width:900px;\r\n        }\r\n        div.pc_item>div:nth-child(2)>span{\r\n            margin:0 10px;\r\n        }\r\n        div.pc_item>div:last-child{\r\n            width:180px;\r\n            display: flex;\r\n        }\r\n        div.pc_item>div:last-child>span{\r\n            width:80px;\r\n            margin:10px 5px;\r\n            height:30px;\r\n            border:1px solid #ddd;\r\n            line-height: 30px;\r\n        }\r\n        /*产品列表主体样式*/\r\n        .products_main{\r\n            display:flex;\r\n        }\r\n        .products_main_shrink{\r\n            width:220px;\r\n            box-sizing:content-box;\r\n            margin-top: 10px;\r\n        }\r\n        .products_main_shrink>.pm-item{\r\n            width:100%;\r\n            padding:10px ;\r\n            background:#aaa;\r\n            margin-bottom:5px;\r\n            box-sizing:border-box;\r\n        }\r\n        .products_main_shrink>.pm-item1{\r\n            text-align:right;\r\n        }\r\n        div.products_middle{\r\n            display:flex;\r\n            flex-flow: wrap;\r\n            margin-top: 10px;\r\n        }\r\n        div.pm-style{\r\n            width:960px;\r\n            margin-left:20px;\r\n        }\r\n        div.products_middle>div:first-child{\r\n            width:120px;\r\n            height:90px;\r\n            text-align: center;\r\n            line-height: 90px;\r\n            background: #ccc;\r\n        }\r\n        div.products_middle div.limitCondition_item{\r\n            display:flex;\r\n            justify-content:space-between;\r\n            background:#ccc;\r\n            height:45px;\r\n            padding:10px;\r\n            box-sizing:border-box;\r\n        }\r\n        div.products_middle div.l-item1{\r\n            width:1060px;\r\n            margin-left:20px;\r\n        }\r\n        div.products_middle div.l-item2{\r\n            width:960px;\r\n        }\r\n        div.limitCondition_item1>ul{\r\n            display:flex\r\n        }\r\n        div.limitCondition_item1>ul>li{\r\n            height:30px;\r\n        }\r\n        div.limitCondition_item1>ul:first-child>li{\r\n            display: inline-block;\r\n            width:60px;\r\n            border:1px solid #bbb;\r\n            text-align: center;\r\n            line-height:30px;\r\n        }\r\n        div.limitCondition_item1>ul:first-child>li.active{\r\n            background:#00c65d;\r\n            color:#fff;\r\n        }\r\n        div.limitCondition_item1>ul:first-child>li:hover{\r\n            border:1px solid #00c65d;\r\n        }\r\n        div.limitCondition_item1>ul:first-child>li+li{\r\n            border-left: 1px solid #ccc;\r\n        }\r\n        div.limitCondition_item1>ul:nth-child(2){\r\n            margin-left:-5%;\r\n        }\r\n        div.limitCondition_item1>ul:nth-child(2)>li{\r\n            margin-left: 6px;\r\n            line-height:30px;\r\n        }\r\n        div.limitCondition_item1>ul:nth-child(2)>li>input{\r\n            width:100px;\r\n            height:30px;\r\n            box-sizing:border-box;\r\n            padding-left:5px;\r\n        }\r\n        div.limitCondition_item1>ul:nth-child(2)>li>button{\r\n            width:50px;\r\n            height:30px;\r\n            box-sizing:border-box;\r\n            line-height:30px;\r\n        }\r\n        div.limitCondition_item1>div>span{\r\n            user-select:none;\r\n        }                                                                     \r\n        div.limitCondition_item1>div>span:nth-child(5),div.limitCondition_item1>div>span:nth-child(6){\r\n            display: inline-block;\r\n            width:40px;\r\n            text-align: center;\r\n            border:1px solid #aaa;\r\n            height:30px;\r\n            line-height:30px;\r\n        }\r\n        div.limitCondition_item2>div:first-child>input{\r\n            margin:0 8px;\r\n        }\r\n        div.limitCondition_item2>div:last-child>a{\r\n            display: inline-block;\r\n            width:60px;\r\n            text-align: center;\r\n            background: #00c65d;\r\n            color:#fff;\r\n            height:30px;\r\n            line-height:30px;\r\n            box-sizing:border-box;\r\n        }\r\n        div.limitCondition_item2>div:last-child>input{\r\n            width:100px;\r\n            height:30px;\r\n            line-height:30px;\r\n            box-sizing:border-box;\r\n            outline:none;\r\n        }\r\n        /*商品列表*/\r\n        .product_lists>ul.product_list{\r\n            display:flex;\r\n            flex-flow: wrap;\r\n        }\r\n        .product_lists>ul.product_list>li{\r\n            width: 240px;\r\n            padding: 10px;\r\n            border:2px solid #f5f5f5;\r\n            box-sizing:border-box;\r\n        }\r\n        .product_lists>ul.product_list>li:hover{\r\n            border:2px solid #00c65d;\r\n        }\r\n        .product_lists>ul.product_list>li>a>img{\r\n            width:220px;\r\n        }\r\n        .product_lists>ul.product_list>li>p.price{\r\n            display:flex;\r\n            justify-content:space-between;\r\n            align-items:center;\r\n        }\r\n        .product_lists>ul.product_list>li>p.price>span:first-child{\r\n            color:#f70738;\r\n        }\r\n        .product_lists>ul.product_list>li>p.price>span:last-child{\r\n            font-size:12px;\r\n            color:#999;\r\n            /* text-decoration:line-through; */\r\n            text-decoration: line-through;\r\n        }\r\n        .product_lists>ul.product_list>li>p.details{\r\n            text-overflow:ellipsis;\r\n            overflow:hidden;\r\n            white-space:nowrap;\r\n        }\r\n        .product_lists>ul.product_list>li>div.buyCount ,.product_lists>ul.product_list>li>p{\r\n            padding:5px 0;\r\n        }\r\n        .product_lists>ul.product_list>li>div.buyCount>button{\r\n            width:30px;\r\n            height:30px;\r\n        }\r\n        .product_lists>ul.product_list>li>div.buyCount>input{\r\n            width:60px;\r\n            height:30px;\r\n            text-align: center;\r\n            box-sizing:border-box;\r\n        }\r\n        .product_lists>ul.product_list>li>div.buy{\r\n            margin: 10px 0;\r\n            display:flex;\r\n            justify-content:space-between;\r\n        }\r\n        .product_lists>ul.product_list>li>div.buy>a{\r\n            width:100px;\r\n            height:40px;\r\n            text-align: center;\r\n            line-height: 40px;\r\n            background: #00c65d;\r\n        }\r\n        /*页码样式*/\r\n        .product_lists>.page_list{\r\n            display: flex;\r\n            justify-content: flex-end;\r\n            margin:10px 0;\r\n        }\r\n        .product_lists>.page_list>.list{\r\n            width:40px;\r\n            height:40px;\r\n            border:1px solid #ddd;\r\n            text-align: center;\r\n            line-height: 40px;\r\n            margin-left:5px;\r\n        }\r\n        .product_lists>.page_list>.list:focus{\r\n            outline:1px solid #00c65d;\r\n        }\r\n        .product_lists>.page_list>.active{\r\n            background:#00c65d;\r\n        }\r\n        .product_lists>.page_list>.list1,.product_lists>.page_list>.list3{\r\n            width:80px;\r\n        }\r\n</style>"],"sourceRoot":"src\\components\\product"}]}